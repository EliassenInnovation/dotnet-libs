openapi: 3.0.1
info:
  title: Eliassen.WebApi
  version: 0.1.72.31
paths:
  /api/AI:
    post:
      tags:
        - AI
      summary: Generate an LLM Response based on the prompt and user input
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.GenerativeAiRequestModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.GenerativeAiRequestModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.GenerativeAiRequestModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: true
    get:
      tags:
        - AI
      summary: Retrieves the embedding vector for the given text.
      parameters:
        - name: text
          in: query
          description: The text for which to retrieve the embedding vector.
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  type: number
                  format: float
            application/json:
              schema:
                type: array
                items:
                  type: number
                  format: float
            text/json:
              schema:
                type: array
                items:
                  type: number
                  format: float
      x-permissions:
        anonymous: false
  /api/Communications/public:
    post:
      tags:
        - Communications
      summary: Sends an email publicly without requiring authentication.
      requestBody:
        description: The email message model.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: true
  /api/Communications/queued:
    post:
      tags:
        - Communications
      summary: Enqueues an email message to be processed asynchronously.
      requestBody:
        description: The email message model.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: true
  /api/Communications/private:
    post:
      tags:
        - Communications
      summary: 'Sends an email with authorization, requiring the caller to be authenticated.'
      requestBody:
        description: The email message model.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.Communications.Models.EmailMessageModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: false
  '/Document/Download/{file}':
    get:
      tags:
        - Document
      summary: Downloads the specified file.
      parameters:
        - name: file
          in: path
          description: The path to the file.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
            text/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  '/Document/Text/{file}':
    get:
      tags:
        - Document
      summary: Retrieves the text of the specified file.
      parameters:
        - name: file
          in: path
          description: The path to the file.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
            text/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  '/Document/Html/{file}':
    get:
      tags:
        - Document
      summary: Retrieves the html of the specified file.
      parameters:
        - name: file
          in: path
          description: The path to the file.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
            text/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  '/Document/Pdf/{file}':
    get:
      tags:
        - Document
      summary: Retrieves the pdf of the specified file.
      parameters:
        - name: file
          in: path
          description: The path to the file.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
            text/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  '/Document/Summary/{file}':
    get:
      tags:
        - Document
      summary: Retrieves the summary of the specified file.
      parameters:
        - name: file
          in: path
          description: The path to the file.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: string
                format: binary
            text/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  '/Document/Upload/{file}':
    post:
      tags:
        - Document
      summary: Upload file content
      parameters:
        - name: file
          in: path
          description: ''
          required: true
          schema:
            type: string
        - name: sourceContentType
          in: query
          description: optionally overload the provided MIME Type
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                content:
                  type: string
                  format: binary
            encoding:
              ContentType:
                style: form
              ContentDisposition:
                style: form
              Headers:
                style: form
              Length:
                style: form
              Name:
                style: form
              FileName:
                style: form
      responses:
        '200':
          description: Success
        '400':
          description: Bad Request
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  /Document/Convert:
    post:
      tags:
        - Document
      summary: Document Converter
      parameters:
        - name: targetContentType
          in: query
          description: define the target MIME type
          schema:
            type: string
        - name: sourceContentType
          in: query
          description: optionally overload the provided MIME Type
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                content:
                  type: string
                  format: binary
            encoding:
              ContentType:
                style: form
              ContentDisposition:
                style: form
              Headers:
                style: form
              Length:
                style: form
              Name:
                style: form
              FileName:
                style: form
      responses:
        '200':
          description: Success
        '400':
          description: Bad Request
        '404':
          description: Not Found
      x-permissions:
        anonymous: true
  /api/MessageQueueing/public:
    post:
      tags:
        - MessageQueueing
      summary: Sends a message to the queue publicly without requiring authentication.
      parameters:
        - name: correlationId
          in: query
          description: Optional correlation ID for tracking purposes.
          schema:
            type: string
      requestBody:
        description: The example message model.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: true
  /api/MessageQueueing/private:
    post:
      tags:
        - MessageQueueing
      summary: 'Sends a message to the queue with authorization, requiring the caller to be authenticated.'
      parameters:
        - name: correlationId
          in: query
          description: Optional correlation ID for tracking purposes.
          schema:
            type: string
      requestBody:
        description: The example message model.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
          text/json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
          application/*+json:
            schema:
              $ref: '#/components/schemas/Eliassen.WebApi.Models.ExampleMessageModel'
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: string
            application/json:
              schema:
                type: string
            text/json:
              schema:
                type: string
      x-permissions:
        anonymous: false
  /Search/List:
    get:
      tags:
        - Search
      summary: Retrieves a list of all available search results.
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
      x-permissions:
        anonymous: true
  /Search/SemanticSearch:
    get:
      tags:
        - Search
      summary: Performs a semantic search with the given query.
      parameters:
        - name: query
          in: query
          description: The search query.
          schema:
            type: string
        - name: limit
          in: query
          description: The maximum number of results to return.
          schema:
            type: integer
            format: int32
            default: 10
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
      x-permissions:
        anonymous: true
  /Search/LexicalSearch:
    get:
      tags:
        - Search
      summary: Performs a lexical search with the given query.
      parameters:
        - name: query
          in: query
          description: The search query.
          schema:
            type: string
        - name: limit
          in: query
          description: The maximum number of results to return.
          schema:
            type: integer
            format: int32
            default: 10
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
      x-permissions:
        anonymous: true
  /Search/HybridSearch:
    get:
      tags:
        - Search
      summary: Performs a hybrid search with the given query.
      parameters:
        - name: query
          in: query
          description: The search query.
          schema:
            type: string
        - name: limit
          in: query
          description: The maximum number of results to return.
          schema:
            type: integer
            format: int32
            default: 10
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.Search.Models.SearchResultModel'
      x-permissions:
        anonymous: true
  /api/TextTemplate/SupportedTemplates:
    post:
      tags:
        - TextTemplate
      summary: Gets the list of supported template file types.
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.System.Text.Templating.FileType'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.System.Text.Templating.FileType'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.System.Text.Templating.FileType'
      x-permissions:
        anonymous: true
  /api/TextTemplate/Apply:
    post:
      tags:
        - TextTemplate
      summary: Applies a text template with the specified name and data.
      parameters:
        - name: templateName
          in: query
          description: The name of the text template to apply.
          schema:
            type: string
      requestBody:
        description: The JSON data used for template processing.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
          text/json:
            schema:
              $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
          application/*+json:
            schema:
              $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
      responses:
        '200':
          description: Success
      x-permissions:
        anonymous: true
  /api/User/claims:
    get:
      tags:
        - User
      summary: Gets the claims associated with the current user.
      responses:
        '200':
          description: Success
          content:
            text/plain:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.WebApi.Models.ClaimModel'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.WebApi.Models.ClaimModel'
            text/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Eliassen.WebApi.Models.ClaimModel'
      x-permissions:
        anonymous: false
components:
  schemas:
    Eliassen.Communications.Models.AttachmentReferenceModel:
      type: object
      properties:
        containerName:
          type: string
          description: Gets the name of the container where the attachment is stored.
          nullable: true
        documentKey:
          type: string
          description: Gets the key or identifier of the document associated with the attachment.
          nullable: true
      additionalProperties: false
      description: Represents a model for referencing attachments.
    Eliassen.Communications.Models.EmailMessageModel:
      type: object
      properties:
        referenceId:
          type: string
          description: Gets or sets the reference ID of the email message.
          nullable: true
        fromAddress:
          type: string
          description: Gets or sets the sender's email address.
          nullable: true
        toAddresses:
          type: array
          items:
            type: string
          description: Gets or sets the list of recipient email addresses.
          nullable: true
        ccAddresses:
          type: array
          items:
            type: string
          description: Gets or sets the list of carbon copy (CC) email addresses.
          nullable: true
        bccAddresses:
          type: array
          items:
            type: string
          description: Gets or sets the list of blind carbon copy (BCC) email addresses.
          nullable: true
        subject:
          type: string
          description: Gets or sets the subject of the email message.
          nullable: true
        textContent:
          type: string
          description: Gets or sets the plain text content of the email message.
          nullable: true
        htmlContent:
          type: string
          description: Gets or sets the HTML content of the email message.
          nullable: true
        headers:
          type: object
          additionalProperties:
            type: string
          description: Gets or sets the headers of the email message.
          nullable: true
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/Eliassen.Communications.Models.AttachmentReferenceModel'
          description: Gets or sets the list of attachment references in the email message.
          nullable: true
      additionalProperties: false
      description: Represents an email message model.
    Eliassen.Search.Models.SearchResultModel:
      type: object
      properties:
        score:
          type: number
          description: Gets or initializes the score of the search result.
          format: float
        pathHash:
          type: string
          description: Gets or initializes the hash of the path where the search result was found.
          nullable: true
        file:
          type: string
          description: Gets or initializes the name of the file where the search result was found.
          nullable: true
        content:
          type: string
          description: Gets or initializes the content of the file where the search result was found.
          nullable: true
        type:
          $ref: '#/components/schemas/Eliassen.Search.Models.SearchTypes'
      additionalProperties: false
      description: Represents a search result model containing information about a search result.
    Eliassen.Search.Models.SearchTypes:
      enum:
        - 0
        - 1
        - 2
        - 3
      type: integer
      description: Specifies the types of search.
      format: int32
    Eliassen.System.Text.Templating.FileType:
      type: object
      properties:
        extension:
          type: string
          description: Gets or sets the file extension associated with the file type.
          nullable: true
        contentType:
          type: string
          description: Gets or sets the content type associated with the file type.
          nullable: true
        isTemplateType:
          type: boolean
          description: Gets or sets a value indicating whether the file type is a template type.
      additionalProperties: false
      description: 'Represents a file type, providing information about the file extension, content type, and whether it is a template type.'
    Eliassen.WebApi.Models.ClaimModel:
      type: object
      properties:
        issuer:
          type: string
          description: Gets or sets the issuer of the claim.
          nullable: true
        value:
          type: string
          description: Gets or sets the value of the claim.
          nullable: true
        valueType:
          type: string
          description: Gets or sets the value type of the claim.
          nullable: true
        type:
          type: string
          description: Gets or sets the type of the claim.
          nullable: true
        originalIssuer:
          type: string
          description: Gets or sets the original issuer of the claim.
          nullable: true
        subjectName:
          type: string
          description: Gets or sets the subject name associated with the claim.
          nullable: true
        subjectLabel:
          type: string
          description: Gets or sets the subject label associated with the claim.
          nullable: true
        subjectAuthenticationType:
          type: string
          description: Gets or sets the authentication type of the subject associated with the claim.
          nullable: true
      additionalProperties: false
      description: Represents a model for a claim.
    Eliassen.WebApi.Models.ExampleMessageModel:
      type: object
      properties:
        input:
          type: string
          description: Gets or sets the input string. Default value is "Default Value".
          nullable: true
        data:
          $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
      additionalProperties: false
      description: Represents an example message model.
    Eliassen.WebApi.Models.GenerativeAiRequestModel:
      type: object
      properties:
        promptDetails:
          type: string
          description: Gets or sets the prompt details.
          nullable: true
        userInput:
          type: string
          description: Gets or sets the user input.
          nullable: true
        apiKey:
          type: string
          description: Gets or sets the input api key to use.
          nullable: true
      additionalProperties: false
      description: Represents the model used for generating AI responses.
    System.Text.Json.Nodes.JsonNode:
      type: object
      properties:
        options:
          $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNodeOptions'
        parent:
          $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
        root:
          $ref: '#/components/schemas/System.Text.Json.Nodes.JsonNode'
      additionalProperties: false
    System.Text.Json.Nodes.JsonNodeOptions:
      type: object
      properties:
        propertyNameCaseInsensitive:
          type: boolean
      additionalProperties: false
  securitySchemes:
    oauth2:
      type: oauth2
      description: oauth2 authentication
      flows:
        implicit:
          authorizationUrl: https://lightwellnucleusdev.b2clogin.com/lightwellnucleusdev.onmicrosoft.com/oauth2/v2.0/authorize?p=B2C_1_NucAcc_Signin
          tokenUrl: https://lightwellnucleusdev.b2clogin.com/lightwellnucleusdev.onmicrosoft.com/oauth2/v2.0/token?p=B2C_1_NucAcc_Signin
          scopes:
            https://lightwellnucleusdev.onmicrosoft.com/user.read/read: UserReadApiClaim
security:
  - oauth2: [ ]