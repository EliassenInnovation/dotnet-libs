<Project Sdk="Microsoft.NET.Sdk.Web">

	<PropertyGroup>
		<TargetFramework>net8.0</TargetFramework>
		<Nullable>enable</Nullable>
		<ImplicitUsings>enable</ImplicitUsings>
		<InvariantGlobalization>true</InvariantGlobalization>

		<IsPackable>false</IsPackable>

		<GenerateDocumentationFile>True</GenerateDocumentationFile>

		<GenerateAssemblyInfo>true</GenerateAssemblyInfo>
		
	</PropertyGroup>

	<ItemGroup>
		<PackageReference Include="Swashbuckle.AspNetCore" Version="6.5.0" />
	</ItemGroup>

	<ItemGroup>
	  <ProjectReference Include="..\..\AI\Nucleus.AbstractAI.Contracts\Nucleus.AbstractAI.Contracts.csproj" />
	  <ProjectReference Include="..\..\Common\Eliassen.Common.Complete\Eliassen.Common.Complete.csproj" />
	</ItemGroup>

	 <Target Name="BuildSwagger">
    <!-- AfterTargets="PostBuildEvent" -->
		<MakeDir Directories="$(DocumentPath)" Condition="!Exists('$(DocumentPath)')" ContinueOnError="true" />
		<Exec Command="dotnet tool restore" ContinueOnError="true" />
		<Exec Command="dotnet swagger tofile --output &quot;$(DocumentPath)swagger.json&quot; &quot;$(OutputPath)$(AssemblyName).dll&quot; all" ContinueOnError="true" EnvironmentVariables="SWAGGER_ONLY=TRUE" />
		<Exec Command="dotnet swagger tofile --yaml --output &quot;$(DocumentPath)swagger.yaml&quot; &quot;$(OutputPath)$(AssemblyName).dll&quot; all" ContinueOnError="true" EnvironmentVariables="SWAGGER_ONLY=TRUE" />
	</Target>
	
</Project>
